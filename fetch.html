<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Access Token</title>
</head>
<body>
    <button onclick="getTokenRequest()">Get Access Token</button>

    <script>
        function getTokenRequest() {
            //const otp = 'your_otp_here'; // Replace with the actual OTP
            const url = 'https://api.penpencil.co/v3/oauth/token';
            const tokenData = {
                username: '9409247959',
                otp: '123456',
                client_id: 'system-admin',
                client_secret: 'KjPXuAVfC5xbmgreETNMaL7z',
                grant_type: 'password',
                ttl: 604800000,
                latitude: 0,
                longitude: 0,
                organizationId: '5eb393ee95fab7468a79d189'
            };

            // Making a POST request using fetch API
            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36'
                },
                body: JSON.stringify(tokenData)
            })
            .then(response => response.json())
            .then(data => {
                if (data && data.data && data.data.access_token) {
                    const accessToken = data.data.access_token;
                    // Assuming you want to store the access token locally
                    // localStorage.setItem('accessToken', accessToken);
                    alert('Access Token stored successfully');
                } else {
                    //alert('Failed to retrieve access token');
                }
            })
            .catch(error => {
                console.error('Error fetching token:', error);
                alert('Failed to retrieve access token');
            });
        }
    </script>
</body>
</html>
